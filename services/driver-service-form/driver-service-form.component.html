<!--<div class="bg-light-primary rounded p-y-30 p-x-24 m-b-30 overflow-hidden ng-star-inserted">-->
<!--  <div class="row">-->
<!--    <div class="col-sm-8"><h4 class="page-title m-0 f-s-20 f-w-600 m-b-16"> Looking for a Driver? </h4>-->
<!--      <div class="d-flex align-items-center overflow-hidden">-->
<!--        <span class="breadcrumb-item active ng-star-inserted">Reliable drivers, bystanders, and errand runners for your-->
<!--          everyday needs.-->
<!--        </span>-->
<!--      </div>-->
<!--      <div class="d-flex align-items-center overflow-hidden">-->
<!--        <ul class="breadcrumb">-->
<!--          <li class="breadcrumb-item ng-star-inserted" tabindex="0">-->
<!--            <a href="/service-home">Dashboard</a>-->
<!--          </li>-->
<!--        </ul>-->
<!--      </div>-->
<!--    </div>-->
<!--    <div class="col-sm-4 text-right position-relative">-->
<!--      <div class="breadcrumb-icon"><img alt="breadcrumb" src="../../../assets/images/svgs/service-details.png"-->
<!--                                        style="margin-top: -8px;" width="320px">-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<div class="row" style="align-items: center;">
  <div class="col-lg-4">

    <mat-card class="cardWithShadow theme-card">
      <mat-card-header>
        <mat-card-title class="m-b-0">Looking for a driver?</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-horizontal-stepper #stepper [linear]="false">
          <mat-step [stepControl]="serviceDetailsForm">
            <form [formGroup]="serviceDetailsForm">

              <div class="row">
                <div class="col-lg-12 p-24">
                  <mat-radio-group aria-label="Select an option" class="mat-mdc-radio-group"
                                   formControlName="serviceType"
                                   style="width: 100%; display: flex; justify-content: center; gap: 16px;">
                    <mat-radio-button class="mat-mdc-radio-button" color="primary" value="withCar">
                      <span>With Car</span>
                    </mat-radio-button>
                    <mat-radio-button class="mat-mdc-radio-button" color="primary" value="withoutCar">
                      <span>Without Car</span>
                    </mat-radio-button>
                  </mat-radio-group>
                </div>

                <!-- Conditional Vehicle Type Selection -->
                <div class="col-lg-12">
                  <mat-form-field appearance="outline" class="w-100" color="primary">
                    <mat-label>Vehicle Type</mat-label>
                    <mat-select formControlName="vehicleType">
                      <mat-option *ngFor="let option of vehicleTypes" [value]="option.value">
                        {{ option.label }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>

              <div style="display: flex; justify-content: space-between">
                <button (click)="submitDriverForm()" [disabled]="!serviceDetailsForm.valid" color="primary"
                        mat-raised-button>
                  Next
                </button>
              </div>
            </form>
          </mat-step>
          <mat-step [stepControl]="pickupDropoffForm">
            <form [formGroup]="pickupDropoffForm">

              <div class="col-lg-12 p-12" formGroupName="pickupLocation">
                <app-google-map-search-box
                  [label]="'Pickup Location'"
                  formControlName="place">
                </app-google-map-search-box>
              </div>

              <div class="col-lg-12 p-12" formGroupName="dropoffLocation">
                <app-google-map-search-box
                  [label]="'Drop Off Location'"
                  formControlName="place">
                </app-google-map-search-box>
              </div>

              <div>
                <button (click)="driverValueChanges()" [disabled]="pickupDropoffForm.invalid" color="primary" mat-button
                        mat-raised-button
                        matStepperNext>Next
                </button>
              </div>
            </form>
          </mat-step>

          <!-- Step 2: Service Details -->
          <mat-step [stepControl]="serviceDetailsForm">
            <form [formGroup]="serviceDetailsForm">

              <div class="row">
                <div class="col-lg-12">
                  <mat-form-field appearance="outline" class="w-100" color="primary">
                    <mat-label>Service Type</mat-label>
                    <mat-select formControlName="serviceType">
                      <mat-option *ngFor="let option of driverServiceTypes" [value]="option.value">
                        {{ option.label }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-lg-12">
                  <mat-form-field appearance="outline" class="w-100" color="primary">
                    <mat-label>Vehicle Type</mat-label>
                    <mat-select formControlName="vehicleType">
                      <mat-option *ngFor="let option of vehicleTypes" [value]="option.value">
                        {{ option.label }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-lg-12">
                  <mat-form-field appearance="outline" class="w-100" color="primary">
                    <mat-label>Duration</mat-label>
                    <mat-select formControlName="duration">
                      <mat-option *ngFor="let option of durations" [value]="option.value">
                        {{ option.label }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
                <div class="col-lg-12">
                  <mat-form-field appearance="outline" class="w-100" color="primary">
                    <mat-label>Additional Services</mat-label>
                    <mat-select formControlName="additionalServices" multiple>
                      <mat-option *ngFor="let option of additionalServices" [value]="option.value">
                        {{ option.label }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>

              <div style="display: flex;justify-content: space-between">
                <button color="primary" mat-button
                        matStepperNext>Previous
                </button>
                <button (click)="submitDriverForm()" [disabled]="!serviceDetailsForm.valid" color="primary"
                        mat-raised-button>
                  Submit
                </button>
              </div>
            </form>
          </mat-step>

        </mat-horizontal-stepper>
      </mat-card-content>
    </mat-card>
  </div>
  <div class="col-lg-8">
    <mat-card class="cardWithShadow theme-card">
      <span *ngIf="distanceInKm" class="p-12"><strong class="f-s-24"> {{ distanceInKm }}</strong> Km</span>
      <div class="google_map_container">
        <google-map [center]="mapCenter" [options]="mapOptions" [zoom]="mapZoom" height="70vh" width="100%">
          <map-marker
            #marker="mapMarker"
            (mapClick)="openInfoWindow(marker)"
            [options]="markerOptions"
            [position]="mapCenter">
          </map-marker>
          <map-info-window>{{ markerInfoContent }}</map-info-window>
        </google-map>
      </div>

    </mat-card>
  </div>
</div>
